<%inherit file="/homepage/templates/base_ajax.htm" />
<%! import homepage.models as hmod %>

<%block name="content">
    <div class="target">
    <table class="table table-striped table-bordered"
    <tr>
      <th>Name</th>
      <th>Quantity</th>
      <th>Unit Price</th>
      <th>Total Price</th>
      <th>Remove</th>
    </tr>
      <% total_price = 0 %>
      %for item in shopping_cart:
        <% qty = shopping_cart.get(item) %>
        <% product = hmod.Product.objects.get(id=item) %>
        <tr>
            <td>${ product.name }</td>
            <td>${ qty }</td>
            <td>${ product.current_price }</td>
            <td>${ product.current_price * qty }</td>
            <td><button id="btn_remove" data-id="${ item }" class="remove btn btn-danger">X</button></td>
        </tr>
          <% total_price += product.current_price * qty %>
      %endfor
      </table>
      <div class="row">
        <div class="col-md-9">
          <h3>Total Price: ${ total_price }</h3>
        </div>
        <div class="col-md-3">
          <a href="/inventory/shoppingcart.review/" id="check_out" class="btn btn-warning pull-right">Check Out</a>
        </div>
      </div>
    </div>
</%block>
